# ComiCut AI - 리포트 자동 웹툰 변환기

ComiCut AI는 PDF나 텍스트로 된 리포트를 분석하여 웹툰 스타일의 이미지 컷으로 자동 변환해주는 도구입니다. Google의 Gemini AI 모델을 활용하여 사실 추출부터 시나리오 작성, 콘티 구성, 그리고 고품질 이미지 생성까지의 전 과정을 자동화합니다.

## 📋 주요 기능
1. **리포트 분석:** PDF 파일에서 핵심 팩트(Fact)를 자동으로 추출합니다. 시나리오는 이 factbank를 기반으로 작성됩니다.
2. **시나리오 작성:** 추출된 팩트를 기반으로 웹툰 시나리오 초안을 작성합니다.
3. **콘티 정제:** 이미지 생성을 위해 프롬프트를 최적화하고 컷을 분할합니다.
4. **이미지 생성:** 캐릭터 일관성을 유지하며 1:1 비율의 고품질 웹툰 컷을 생성합니다.
5. **다운로드:** 생성된 최종 결과물을 ZIP 파일로 일괄 다운로드할 수 있습니다.

## 🛠️ 설치 방법

### 1. 사전 요구 사항 (필수)
- **Windows 10 또는 11** 환경
- **Python 3.10 이상** 설치 ([Python 다운로드](https://www.python.org/downloads/release/python-31011/))
  - *설치 시 화면 하단의 "Add Python to PATH" 체크박스를 반드시 선택해주세요.*

- 아래 이미지는 프로그램 구동에 필요한 파이썬 3.10.11 버전 설치 가이드입니다.

## 1) 상술된 파이썬 설치 링크에 접속해 맨 아래로 스크롤합니다.
<img width="2000" height="1047" alt="Image" src="https://github.com/user-attachments/assets/28765ee7-c3ca-43e4-8122-fe58fd1e719e" />


## 2) 윈도우용 64비트 설치파일을 다운로드 받고 설치파일을 실행합니다.
<img width="1867" height="885" alt="Image" src="https://github.com/user-attachments/assets/7f1d434e-2bc6-413a-a47f-bd1d2613f379" />


## 3) "Add Python to PATH" 체크박스가 선택된 것을 확인하고 다운로드합니다.
<img width="934" height="331" alt="Image" src="https://github.com/user-attachments/assets/5b0ac0d5-7153-49a4-9948-130da4eaa476" />


## 4) 잘 설치되었는지 확인하면 준비 완료입니다.
<img width="1745" height="981" alt="Image" src="https://github.com/user-attachments/assets/0996f5fe-5706-4642-8065-fe440c7c14dd" />


### 2. 자동 설치 (권장)
폴더 내의 `install.bat` 파일을 더블 클릭하세요.
- 자동으로 가상환경(`venv`)을 생성하고 필요한 모든 라이브러리를 설치합니다.
- 설치가 완료되면 `.env` 파일을 설정하라는 안내가 나옵니다. `.env` 파일은 이미지 생성에 필요한 api 키를 저장하는 파일이며, 보안상의 이유로 설치파일에는 들어있지 않습니다.

### 3. 수동 설치
자동 설치가 실패할 경우, 터미널(CMD 또는 PowerShell)을 열고 아래 명령어를 순서대로 입력하세요.

```bash
# 1. 가상환경 생성
python -m venv venv

# 2. 가상환경 활성화
call venv\Scripts\activate

# 3. 필수 라이브러리 설치
pip install -r requirements.txt
```

## ⚙️ 환경 설정 (API Key)

1. 폴더 내의 `.env.example` 파일의 이름을 `.env`로 변경합니다. (자동 설치 시 이미 복사되었을 수 있습니다.)
2. `.env` 파일을 메모장 등으로 열고 **Gemini API Key**를 입력합니다.

# .env 파일 예시
GEMINI_API_KEY=(여기에 발급받은 키를 붙여넣으세요)
```

## 🚀 실행 방법

### 1. 원클릭 실행 (권장)
`run.bat` 파일을 더블 클릭하세요.
- 서버가 실행되고, 잠시 후 브라우저에서 웹 UI가 자동으로 열립니다.

### 2. 수동 실행
```bash
# 가상환경 활성화 (이미 되어 있다면 생략)
call venv\Scripts\activate

# 서버 실행
uvicorn main:app --reload
```
서버가 켜지면 브라우저 주소창에 `http://127.0.0.1:8000/ui`를 입력하여 접속합니다.

## 📝 사용 가이드
1. **업로드 (1단계):** 변환할 PDF 리포트 파일을 업로드합니다.
2. **원클릭 파이프라인:** "⚡ 원클릭 실행" 버튼을 누르면 1~4단계(팩트 추출 ~ 시나리오 검증)가 자동으로 진행됩니다.
3. **검토 및 수정:** 각 단계별 결과(팩트, 초안, 최종 스크립트)를 확인하고, 필요하다면 텍스트를 직접 수정 후 "저장" 버튼을 누르세요.
4. **캐릭터 설정 (선택):** 등장인물의 이름과 참조 이미지를 등록하면 캐릭터의 외관 일관성이 향상됩니다.
5. **이미지 생성 (5단계):** "✨ 웹툰 생성 시작" 버튼을 누르면 이미지가 생성됩니다.
6. **다운로드:** 결과물이 마음에 들면 "💾 전체 이미지 ZIP 다운로드" 버튼을 눌러 저장하세요.

## ⚠️ 주의 사항
- **API 사용량:** Gemini API 무료 티어 사용 시 분당 요청 횟수 제한이 있을 수 있습니다.
- **이미지 품질:** AI 생성 특성상 손가락 모양이나 복잡한 텍스트 렌더링이 완벽하지 않을 수 있습니다.
